
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="ies_tool restore_factory">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001447121205">
<meta name="DC.Language" content="en-us">
<title>ies_tool restore_factory</title>
</head>
<body><a name="EN-US_TOPIC_0000001447121205"></a><a name="EN-US_TOPIC_0000001447121205"></a>

<h1 class="topictitle1">ies_tool restore_factory</h1>
<div id="body1595403640947"><div class="section" id="EN-US_TOPIC_0000001447121205__section494485624615"><h4 class="sectiontitle">Function</h4><p id="EN-US_TOPIC_0000001447121205__p383014575014">This command is used to remotely restore factory settings.</p>
<div class="note" id="EN-US_TOPIC_0000001447121205__note7223205084316"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000001447121205__p5223175014433">If you restore factory settings on an M.2-based general OS, the eMMC system is restored. The system restarts from the eMMC, while the M.2-based general OS remains unchanged.</p>
</div></div>
</div>
<div class="section" id="EN-US_TOPIC_0000001447121205__section1946125634619"><h4 class="sectiontitle">Syntax</h4><p id="EN-US_TOPIC_0000001447121205__p338185019165"><strong id="EN-US_TOPIC_0000001447121205__b1815194144214">ies_tool restore_factory</strong> [<strong id="EN-US_TOPIC_0000001447121205__b96485202174">-e</strong><em id="EN-US_TOPIC_0000001447121205__i1987415154178"> if_name</em>][<strong id="EN-US_TOPIC_0000001447121205__b11628204492112">-t </strong><em id="EN-US_TOPIC_0000001447121205__i27101459214">secure</em>]</p>
</div>
<div class="section" id="EN-US_TOPIC_0000001447121205__section39511656144617"><h4 class="sectiontitle">Parameters</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001447121205__table2963185674610" frame="border" border="1" rules="all"><thead align="left"><tr id="EN-US_TOPIC_0000001447121205__row1331757134614"><th align="left" class="cellrowborder" valign="top" width="25.252525252525253%" id="mcps1.3.3.2.1.4.1.1"><p id="EN-US_TOPIC_0000001447121205__p331057104619">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40.40404040404041%" id="mcps1.3.3.2.1.4.1.2"><p id="EN-US_TOPIC_0000001447121205__p13310573468">Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="34.34343434343434%" id="mcps1.3.3.2.1.4.1.3"><p id="EN-US_TOPIC_0000001447121205__p7355716463">Value</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0000001447121205__row431657184619"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.3.3.2.1.4.1.1 "><p id="EN-US_TOPIC_0000001447121205__p203195714461"><em id="EN-US_TOPIC_0000001447121205__i137152916175">if_name</em></p>
</td>
<td class="cellrowborder" valign="top" width="40.40404040404041%" headers="mcps1.3.3.2.1.4.1.2 "><p id="EN-US_TOPIC_0000001447121205__p13105704615">Name of the network port corresponding to the reserved IP address.</p>
</td>
<td class="cellrowborder" valign="top" width="34.34343434343434%" headers="mcps1.3.3.2.1.4.1.3 "><p id="EN-US_TOPIC_0000001447121205__p13315719462">For example, <strong id="EN-US_TOPIC_0000001447121205__b1422019672917">eth0</strong> or <strong id="EN-US_TOPIC_0000001447121205__b18222186192912">eth0:2</strong>.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0000001447121205__row75541946340"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.3.3.2.1.4.1.1 "><p id="EN-US_TOPIC_0000001447121205__p770317119348"><em id="EN-US_TOPIC_0000001447121205__i1470301143410">secure</em></p>
</td>
<td class="cellrowborder" valign="top" width="40.40404040404041%" headers="mcps1.3.3.2.1.4.1.2 "><p id="EN-US_TOPIC_0000001447121205__p137031011113415">Mode for erasing data before restoring factory settings.</p>
</td>
<td class="cellrowborder" valign="top" width="34.34343434343434%" headers="mcps1.3.3.2.1.4.1.3 "><p id="EN-US_TOPIC_0000001447121205__p470351113413">-</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="EN-US_TOPIC_0000001447121205__section2959155684618"><h4 class="sectiontitle">Usage Guidelines</h4><ul id="EN-US_TOPIC_0000001447121205__ul174994315610"><li id="EN-US_TOPIC_0000001447121205__li34993317619">The <strong id="EN-US_TOPIC_0000001447121205__b146531546567">-e</strong> parameter can be used to retain the IP address during factory setting restoration.</li><li id="EN-US_TOPIC_0000001447121205__li31661453163718">The <strong id="EN-US_TOPIC_0000001447121205__b13478143510712">-t</strong> parameter can be used to securely erase data before restoring factory settings.</li><li id="EN-US_TOPIC_0000001447121205__li544051413615">When the <strong id="EN-US_TOPIC_0000001447121205__b2838101597">-t secure</strong> parameter is used, the eMMC is erased for three times and then restored to factory settings. The process takes about 40 minutes.</li><li id="EN-US_TOPIC_0000001447121205__li121451181517">When you restore the factory settings, the system automatically restores the default IP address. The default IP address of port 0 is 192.168.2.111, and that of ports 1 to 4 is 192.168.3.111. Ensure that the reserved IP addresses and network segments do not conflict with the default IP addresses.</li><li id="EN-US_TOPIC_0000001447121205__li11702191817445">You are advised to retain the current login IP address. If the retained IP address is not in the same network segment as the default gateway, the retained IP address may fail to be used to remotely log in to the system after factory settings are restored.</li><li id="EN-US_TOPIC_0000001447121205__li28262113563">During a firmware upgrade or before the upgrade takes effect after a restart, factory settings cannot be restored.</li><li id="EN-US_TOPIC_0000001447121205__li71261612198">During the restoration, ensure that the power supply is stable. If the device is powered off unexpectedly, the restoration may fail.</li><li id="EN-US_TOPIC_0000001447121205__li155003310614">You must run the <strong id="EN-US_TOPIC_0000001447121205__b162828331308">ies_tool restore_factory</strong> command as the <strong id="EN-US_TOPIC_0000001447121205__b13282153311301">root</strong> user. For details about how to switch to the <strong id="EN-US_TOPIC_0000001447121205__b28511746171910">root</strong> user, see <a href="en-us_topic_0000001447161197.html">Switching to Root Login (develop)</a>.</li><li id="EN-US_TOPIC_0000001447121205__li13691221155514">After factory settings are restored, only one IP address can be used for local WebUI login. If you choose to retain the IP address when restoring factory settings, the retained IP address can be used for local WebUI login after the factory settings are restored. If you choose not to retain the IP address, the IP address of port 0 will be preferentially used for local WebUI login after the factory settings are restored.</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0000001447121205__section3959115612466"><h4 class="sectiontitle">Example</h4><ul id="EN-US_TOPIC_0000001447121205__ul124116411553"><li id="EN-US_TOPIC_0000001447121205__li154111048557">Example 1: Restore factory settings remotely without retaining the IP address.<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen9813105894716">ies_tool restore_factory</pre>
<div class="p" id="EN-US_TOPIC_0000001447121205__p18329441163313">Command output:<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen136261146113319">Warning: you has't restored any IP address.IP address will be set to default after restore factory. 
The system will be restored to factory settings, including the user name, password and so on.
Are you sure want to continue? Y/N</pre>
</div>
</li><li id="EN-US_TOPIC_0000001447121205__li71501952105514">Example 2: Restore factory settings remotely with the IP address retained.<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen1932003194819">ies_tool restore_factory -e eth0</pre>
<div class="p" id="EN-US_TOPIC_0000001447121205__p13154010123419">Command output:<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen1026841917346">The system will be restored to factory settings, including the user name, password and so on.
Are you sure want to continue? Y/N</pre>
</div>
</li><li id="EN-US_TOPIC_0000001447121205__li1528272615386">Example 3: Remotely restore factory settings after secure erasing without retaining the IP address.<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen57922774820">ies_tool restore_factory -t secure</pre>
<div class="p" id="EN-US_TOPIC_0000001447121205__p918213359348">Command output:<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen122624113341">Warning: you has't restored any IP address.IP address will be set to default after restore factory.  
The system will be restored to factory settings, including the user name, password and so on. 
Are you sure want to continue? Y/N</pre>
</div>
</li><li id="EN-US_TOPIC_0000001447121205__li199432963812">Example 4: Remotely restore factory settings after secure erasing with the IP address retained.<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen18540191110484">ies_tool restore_factory -e eth0 -t secure</pre>
<div class="p" id="EN-US_TOPIC_0000001447121205__p221857133415">Command output:<pre class="screen" id="EN-US_TOPIC_0000001447121205__screen22984383517">The system will be restored to factory settings, including the user name, password and so on. 
Are you sure want to continue? Y/N</pre>
</div>
</li></ul>
</div>
</div>

</body>
</html>